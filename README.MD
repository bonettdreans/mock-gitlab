# Mock GitLab API

Uma API mock que simula endpoints selecionados do GitLab para fins de desenvolvimento e testes.

## üöÄ Vis√£o Geral

Esta API fornece dados simulados para endpoints comuns do GitLab, incluindo projetos, merge requests e commits. √â √∫til para desenvolvimento e testes quando voc√™ n√£o quer depender da API real do GitLab.

### Principais Funcionalidades

- Gera√ß√£o autom√°tica de dados mockados
- Pagina√ß√£o compat√≠vel com GitLab
- Headers de resposta similares ao GitLab
- Endpoints para projetos, merge requests e commits

## üìã Requisitos

- Python 3.7+
- FastAPI
- Uvicorn
- typing
- uuid

## üõ†Ô∏è Instala√ß√£o

1. Clone o reposit√≥rio:

```bash
git clone [URL_DO_REPOSIT√ìRIO]
```

2. Instale as depend√™ncias:

```bash
pip install fastapi uvicorn typing uuid
```

3. Execute a aplica√ß√£o:

```bash
python main.py
```

Por padr√£o, a API estar√° dispon√≠vel em `http://localhost:8000`

## üìö Endpoints Dispon√≠veis

### 1. Listar Projetos

```
GET /api/v4/projects
```

**Par√¢metros de Query:**

- `page` (opcional): N√∫mero da p√°gina (default: 1)
- `per_page` (opcional): Itens por p√°gina (default: 20, max: 100)

**Exemplo de Resposta:**

```json
[
  {
    "id": 1,
    "name": "Project 1",
    "description": "This is a mock project 1 for testing",
    "web_url": "https://gitlab.example.com/project/1",
    "created_at": "2024-01-01T00:00:00",
    "last_activity_at": "2024-01-15T00:00:00",
    "visibility": "private",
    "default_branch": "main",
    "star_count": 42,
    "forks_count": 7
  }
]
```

### 2. Listar Merge Requests de um Projeto

```
GET /api/v4/projects/{project_id}/merge_requests
```

**Par√¢metros:**

- `project_id`: ID do projeto (path parameter)
- `page` (opcional): N√∫mero da p√°gina (query parameter)
- `per_page` (opcional): Itens por p√°gina (query parameter)

**Exemplo de Resposta:**

```json
[
  {
    "id": 1,
    "iid": 1,
    "project_id": 1,
    "title": "Feature: Implement new functionality 1",
    "description": "This MR implements feature 1",
    "state": "opened",
    "merged_by": {
      "id": 5,
      "name": "User 5"
    },
    "merged_at": "2024-01-16T00:00:00",
    "created_at": "2024-01-15T00:00:00",
    "updated_at": "2024-01-15T12:00:00",
    "target_branch": "main",
    "source_branch": "feature/branch-1"
  }
]
```

### 3. Listar Commits de um Merge Request

```
GET /api/v4/projects/{project_id}/merge_requests/{mr_iid}/commits
```

**Par√¢metros:**

- `project_id`: ID do projeto (path parameter)
- `mr_iid`: IID do merge request (path parameter)
- `page` (opcional): N√∫mero da p√°gina (query parameter)
- `per_page` (opcional): Itens por p√°gina (query parameter)

**Exemplo de Resposta:**

```json
[
  {
    "id": "uuid-string",
    "short_id": "short-uuid",
    "title": "commit: changes for feature 1 - 1",
    "author_name": "User 1",
    "author_email": "user1@example.com",
    "created_at": "2024-01-15T00:00:00",
    "message": "feat: implement changes for feature 1 - 1",
    "parent_ids": ["parent-uuid"]
  }
]
```

### 4. Listar Commits do Reposit√≥rio

```
GET /api/v4/projects/{project_id}/repository/commits
```

**Par√¢metros:**

- `project_id`: ID do projeto (path parameter)
- `page` (opcional): N√∫mero da p√°gina (query parameter)
- `per_page` (opcional): Itens por p√°gina (query parameter)

## üìù Headers de Resposta

Todos os endpoints retornam os seguintes headers de pagina√ß√£o:

- `X-Total`: Total de itens dispon√≠veis
- `X-Total-Pages`: Total de p√°ginas
- `X-Per-Page`: Itens por p√°gina
- `X-Page`: P√°gina atual
- `X-Next-Page`: Pr√≥xima p√°gina (vazio se n√£o houver)
- `X-Prev-Page`: P√°gina anterior (vazio se n√£o houver)

## üîß Gera√ß√£o de Dados Mock

Os dados s√£o gerados automaticamente quando a aplica√ß√£o inicia:

- 100 projetos mockados
- 5-15 merge requests por projeto
- 1-5 commits por merge request
- 20-50 commits por reposit√≥rio

### Estrutura dos Dados Mockados

- **Projetos**: Inclui informa√ß√µes b√°sicas como nome, descri√ß√£o, visibilidade e m√©tricas
- **Merge Requests**: Estado, branches, datas de cria√ß√£o/atualiza√ß√£o
- **Commits**: Autor, mensagem, datas e IDs

## ü§ù Contribuindo

1. Fa√ßa um Fork do projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add: amazing feature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## ‚ö†Ô∏è Limita√ß√µes

- Esta √© uma API mock e n√£o replica todas as funcionalidades do GitLab
- Os dados s√£o gerados aleatoriamente e reiniciados quando a aplica√ß√£o √© reiniciada
- Alguns campos presentes na API real do GitLab podem estar ausentes

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo `LICENSE` para mais detalhes.
